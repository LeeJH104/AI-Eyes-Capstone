# AI Eyes - 캡스톤디자인 프로젝트

## 📱 개요
AI 기반 시각장애인 보조 앱 개발 프로젝트입니다.
음성 인식(STT), 음성 안내(TTS), 제스처 인식을 사용한 길안내, 영수증 인식, 장애물 탐지 기능을 제공합니다.

## 👥 Team Members
- 이재훈 – 프로젝트 매니저 & 메인화면 개발
- 이수창 – 네비게이션 기능
- 김가람 – 영수증 인식
- 송현호 – 장애물 탐지

## ✨ Features
- **메인 화면**: 음성/제스처 기반 기능 선택
- **네비게이션**: 길안내 및 음성 안내
- **영수증 인식**: OCR 기반 텍스트 추출
- **장애물 탐지**: 카메라 기반 장애물 경고

## 🛠 개발 환경
- Language: Java (Android)
- Framework: Android Studio
- Tools: TMAP API, OCR, Object Detection
- Collaboration: GitHub

## 🧱 브랜치 전략
- main: 최종 안정 버전
- dev: 공통 코드 및 통합 테스트용
- feature/nav, feature/receipt, feature/obstacle 등

## 📁 폴더 구조
 예시 :
  
  com.example.aieyes/
  
  ├── ui/   화면(Activity, Fragment)

  │   ├── MainActivity.java
  
  │   ├── NavigationActivity.java
  
  │   ├── ReceiptActivity.java
  
  │   ├── ObstacleActivity.java
  
  │   └── ... (필요 시 Fragment 등)
  
  ├── service/  기능 처리
  
  │   ├── NavigationService.java
  
  │   ├── ReceiptOCRService.java
  
  │   ├── ObjectDetectionService.java
  
  │   └── ...
  
  ├── utils/    공통 유틸 (TTSManager 등)
  
  │   ├── TTSManager.java
  
  │   ├── STTManager.java
  
  │   ├── VibrationHelper.java
  
  │   ├── GestureManager.java
  
  │   └── PermissionHelper.java


## 사용자 메뉴얼
1. 소개
Ai Eyes는 시각장애인의 독립적이고 안전한 일상생활을 지원하기 위해 개발된 안드로이드 스마트폰 애플리케이션입니다. 본 앱은 음성 인식(STT), 음성 안내(TTS), 그리고 인공지능 기술을 활용하여 영수증 정보 확인 및 보행자 내비게이션 기능 및 장애물 탐지 기능을 제공합니다.

2. 시스템 요구사항
운영 체제: Android
필수 하드웨어: 카메라 (후면, 해상도 8MP 이상 권장), 마이크, 스피커 또는 이어폰, GPS, 자이로스코프 및 나침반 센서
필수 소프트웨어/권한: TTS/STT 엔진, 카메라 접근 권한, 위치 정보 접근 권한, 마이크 접근 권한, 인터넷 연결

3. 앱 설치 방법
제공된 AiEyes.apk 파일을 안드로이드 스마트폰으로 복사합니다.
스마트폰의 파일 관리자 앱을 이용하여 AiEyes.apk 파일을 찾아 실행합니다.
"출처를 알 수 없는 앱 설치" 허용 메시지가 나타나면, 설정을 변경하여 설치를 허용합니다. (설정 > 보안 > 출처를 알 수 없는 앱 설치)
앱 설치 안내에 따라 설치를 완료합니다.
설치 후 앱 아이콘이 생성된 것을 확인합니다.
앱 최초 실행 시, 카메라, 마이크, 위치 정보 접근 권한을 요청합니다. 요청을 거부하면 앱을 사용할 수 없습니다.
 보안 정책상 음성으로 요청을 승인할 수 없어 터치로 승인해야 합니다. 따라서 시각장애인 분들과 같이 직접 승인하기 어려우신 분들은 다른 사람의 도움을 받아 승인해야 합니다.
 처음 권한을 거절하면 해당 권한 승인 요청을 다시 합니다. 다시 요청된 권한을 거절하면 요청을 하지 않고 앱 설정으로 이동할 수 있는 창이 뜨고 사용자가 설정에서 직접 권한을 승인해야 합니다.

4. 앱 실행 방법
일반 실행: 스마트폰 화면에서 "Ai Eyes" 앱 아이콘을 찾아 터치하여 실행합니다.
음성 실행 (빅스비 연동 시):
 빅스비(Bixby)를 호출합니다. (예: "하이 빅스비")
 "Ai Eyes 실행해줘" 또는 "Ai Eyes 열어줘"와 같이 명령합니다.

5. 주요 기능 사용 방법
앱을 실행하면 최초 실행시 필수 소프트웨어/권한에 관한 허용 메세지가 뜹니다. 수락하지 않는다면 앱을 사용하지 못합니다. 모든 권한을 수락한 이후 초기 화면이 나타나며, 음성으로 "영수증 또는 내비게이션 중 사용할 옵션을 선택해주세요"라는 안내가 나옵니다.
 화면 왼쪽으로 스와이프 또는 "영수증"이라고 말하기: 영수증 확인 기능 실행
 화면 오른쪽으로 스와이프 또는 "내비게이션"이라고 말하기: 내비게이션 기능 실행
 뒤로 가기: 안드로이드 시스템의 기본 뒤로 가기 버튼(하단 네비게이션 바)을 사용합니다. 초기 화면에서 뒤로 가기를 하면 앱이 종료됩니다.

5.1. 내비게이션 기능 사용 방법
내비게이션 기능은 시각장애인이 음성 안내를 통해 목적지까지 안전하게 이동할 수 있도록 지원합니다.

5.1.1. 목적지 입력 및 후보지 탐색
내비게이션 기능을 선택하면 앱에서 "목적지를 말씀해주세요" 라는 음성 안내가 나옵니다.
사용자는 "OOO로 안내해줘" 또는 "OOO"와 같이 목적지를 말합니다.
앱은 인식된 목적지를 되물으며 "OOO이 맞나요?" 라고 음성 안내합니다.
 "맞아" 라고 말하면, 앱은 해당 목적지를 기반으로 외부 API를 호출하여 주변 장소 목록을 검색합니다. 장소는 현재 위치로부터 가까운 순서대로 정렬됩니다.
 "아니야" 라고 말하면, 다시 "목적지를 말씀해주세요" 단계(5.1.1의 1번)로 돌아갑니다.
 일정 시간(예: 5초) 동안 응답이 없거나, 사용자의 말을 인식하지 못한 경우, "말씀을 인식하지 못했습니다. 다시 목적지를 말씀해주세요" 와 같은 안내 후 1번 단계로 돌아갑니다.
 검색 결과가 없는 경우, "검색 결과가 없습니다. 다시 목적지를 말씀해주세요" 안내 후 1번 단계로 돌아갑니다.

5.1.2. 후보지 탐색 및 선택
검색된 장소 후보지가 있다면, 앱은 첫 번째 후보지부터 화면에 표시 및 음성으로 안내합니다. "ㅁㅁ 주소의 OOO을 선택하시겠습니까?"
다음과 같은 음성 안내 및 제스처 안내가 이어집니다:
 "오른쪽으로 스와이프하거나 '다음'이라고 말씀하시면 다음 주소를 안내해 드립니다."
 "화면을 두 번 터치(더블탭)하거나 '선택'이라고 말씀하시면 해당 주소를 목적지로 선택합니다."
 "아래로 스와이프하거나 '다시'라고 말씀하시면 현재 설명을 다시 들을 수 있습니다."
안내에 따라 다음 중 하나를 수행합니다:
 오른쪽 스와이프 또는 "다음" 이라고 말하기: 다음 후보지 정보 화면에 표시하고 음성으로 안내받습니다.
 화면 두 번 터치(더블탭) 또는 “선택" 이라고 말하기: 현재 안내된 후보지를 최종 목적지로 확정하고 길안내를 시작합니다 (5.1.3 단계로 이동).
 아래로 스와이프 또는 "다시" 이라고 말하기: 현재 후보지에 대한 설명을 다시 듣습니다.
만약 리스트의 모든 후보지를 확인했으나 원하는 목적지가 없는 경우:
 앱은 "원하시는 목적지가 없습니다. 다시 목적지를 입력하시겠습니까?" 와 유사한 안내를 하며, "예"라고 답하면 목적지 입력 단계(5.1.1의 1번)로 돌아갑니다. (구현에 따라 "관련된 추가 장소를 보여드리겠습니다" 후 추가 검색을 진행할 수도 있습니다.)

5.1.3. 길안내 시작 및 진행
목적지가 확정되면, "OOO까지 경로 안내를 시작합니다" 라는 음성 안내와 함께 길안내가 시작됩니다.
장애물 탐지 안내: 길안내 시작 시, "앞에 장애물이 있는지 확인하고 싶을 때 화면을 위로 스와이프하거나 "앞에 뭐가 있어?", "장애물 확인" '이라고 말씀해주세요" 와 같이 장애물 탐지 기능 사용법을 안내합니다.
 장애물 탐지 기능이 활성화되며, 앱은 "장애물 탐지를 시작합니다. 3초 후 자동으로 촬영됩니다. 카메라를 전방으로 향해주세요." 와 같은 음성 안내를 합니다.
 3초 후 후방 카메라를 통해 자동으로 사진이 촬영됩니다.
 앱은 촬영된 이미지를 생성형 AI로 분석하여 장애물 탐지 여부, 간단한 장애물 정보(예: "기둥", "계단", "턱") 및 대략적인 거리(예: "손이 닿는 거리에", "대략 10발자국 전방에")를 TTS를 통해 음성으로 출력합니다. 동시에, 저시력자를 위해 화면에 해당 정보가 큰 텍스트로 표시됩니다. (예: "전방에 계단이 있습니다. 주의하세요.")
 장애물 정보 안내 후, 사용자가 화면을 아래로 스와이프하면 장애물 탐지 기능이 비활성화되고 다시 길 안내 기능으로 복귀합니다. 또는, 사용자가 장애물 탐지 기능 수행 중 "탐지 취소" 또는 "길안내 계속" 이라고 말하면 탐지를 중단하고 이전 길안내 상태로 복귀합니다.
방향 정렬: 길안내 시작 전, 앱은 스마트폰의 자이로센서와 나침반을 사용하여 사용자의 휴대폰 방향과 실제 경로 진행 방향을 맞추도록 유도합니다. 만약 방향이 ±15도 이상 어긋나면 "방향이 어긋났습니다. 오른쪽(또는 왼쪽)으로 O도 돌아주세요" 와 같이 음성으로 보정 안내를 합니다.
경로 안내: 방향이 일치하면, 다음 주요 지점까지의 이동 경로(예: "OOm 앞까지 직진입니다", "OOm 전진 후 우회전입니다")를 음성으로 안내합니다.
경로 이탈 시: 이동 중 현재 위치를 계속 추적하며, 만약 경로에서 10m 이상 벗어나면 "경로를 이탈했습니다. 경로를 다시 탐색 중입니다..." 라는 음성 안내 후 새로운 경로를 받아 안내를 재시작합니다.

5.1.4. 길안내 중 부가 기능 및 예외 처리
길안내 중 다음과 같은 음성 명령(STT) 또는 제스처를 통해 다양한 기능을 사용할 수 있습니다:
 "안내 취소": 길안내를 중단하고 초기 화면으로 돌아갑니다. "안내를 중단합니다" 라는 음성 안내가 나옵니다.
 "방금 뭐라고?" 또는 "다시 말해줘": 마지막 음성 안내 메시지를 반복해서 들려줍니다.
 "지금 어디야?": 현재 사용자의 위치를 음성으로 간략히 안내합니다.
 "다른 데로 갈래" 또는 "목적지 변경": 현재 길안내를 중단하고, 새로운 목적지를 입력하는 단계(5.1.1의 1번)로 돌아갑니다.

5.1.5. 도착 및 종료
사용자가 목적지 반경 5m 이내에 도달하면, 앱은 이를 감지하고 "목적지에 도착했습니다. 안내를 종료합니다." 라는 음성 안내를 출력합니다.
길안내가 종료되고 초기 화면으로 돌아옵니다.

5.2. 영수증 확인 기능 사용 방법
영수증 확인 기능은 구매한 물품의 영수증을 촬영하여 합계 금액을 음성으로 안내받는 기능입니다.
초기 화면에서 영수증 옵션을 실행합니다 (화면 왼쪽 스와이프 또는 "영수증" 이라고 말하기).
앱에서 "화면을 더블클릭시 영수증을 촬영해주세요." 라는 음성 안내가 나옵니다.
사용자는 영수증을 평평한 곳에 두고, 스마트폰 카메라로 영수증 전체가 잘 보이도록 촬영합니다. 
앱은 촬영된 이미지를 OCR 처리 후 AI를 통해 합계 금액을 추출합니다.
 추출 성공 시: "합계는 OO원입니다." 와 같이 음성으로 안내합니다.
 추출 실패 시: "합계를 인식하지 못했습니다. 다시 촬영해 주세요." 라는 음성 안내 후, 다시 영수증 촬영 단계(5.2.3)로 돌아갑니다. (영수증이 아닌 다른 것을 촬영했거나, 심하게 구겨지거나 빛 반사가 심한 경우 인식이 어려울 수 있습니다.)

6. 문제 해결 및 문의
앱 사용 중 문제가 발생하거나 문의사항이 있을 경우, [개발팀 연락처 또는 이메일 주소] 연락 주시거나 웹사이트를 참고 바랍니다.
